import { Meta, Canvas } from '@storybook/blocks';
import { Confirm, Login } from '../src/components/Lockup/index.stories';
import { Wizard } from '../src/components/Pagination/index.stories';
import { Modal, Default } from '../src/components/Dialog/index.stories';

<Meta title="Components/Modal" />

# Modal

Don't use a modal. There's often a better pattern.

### Before unload

Instead of launching a modal to stop the user from leaving unsaved work, save the work as they make changes. Don't stop them from doing what they want, even if that is leaving.

### Double confirmation

Instead of launching a modal to double confirm a user's critical action, consider causing the user to type something in a field. This is better because it isn't disruptive to the user, doesn't require unique accessibility considerations, and is more deliberate than only pressing another big button.

<Canvas of={ Confirm }/>

### Authentication wall

Instead of launching a modal when the user does something that requires a login, redirect them to the login page. Remember that tip above about saving progress? Keep that progress while they login and redirect them back to where they were now with authentication. You can even reassure them at the login page that all their progress has been saved.

<Canvas of={ Login }/>

### Wizards

Instead of launching a modal when the user needs to pick-a-path, make the experience a totally new page. That'll keep the user's focus on the path instead of wondering what is behind the modal.

<Canvas of={ Wizard }/>

### Annoucements

Hopefully, the announcement is _not_ an advertisement masquerading as an important message. For messages that are important to the user, put them in context. If it's a message unrelated to the page they are currently on. Use a notification pattern or better yet an inbox message that they can choose to manage their own way. For messages related to the current page, use an in-page dialog.

<Canvas of={ Default }/>

### Everything else

If these didn't cover your use case and creativity for an alternative solution is lacking, then here's an example that uses the `Dialog` component to launch onto the `top-layer`. This keeps it as a separate context from the underlying page. This is done by setting the `disrupt` flag on the component.

<Canvas of={ Modal }/>
